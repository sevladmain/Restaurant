CREATE SEQUENCE cat_id
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE "CATEGORY" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE cat_id PRIMARY KEY,
    "NAME" character(50) NOT NULL
);

CREATE SEQUENCE dish_id
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE "DISHES" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE dish_id PRIMARY KEY,
    "ID_CATEGORY" integer NOT NULL,
    "PRICE" integer,
    "WEIGHT" integer,
    "NAME" CHARACTER(50)
);

CREATE SEQUENCE emp_id
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE "EMPLOYEE" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE emp_id PRIMARY KEY,
    "FIRST_NAME" character(100) NOT NULL,
    "LAST_NAME" character(100) NOT NULL,
    "DATE_BIRTH" date NOT NULL,
    "ID_POSITION" integer NOT NULL,
    "SALARY" integer
);

COMMENT ON TABLE "EMPLOYEE" IS 'Сотрудник: сотрудник ресторана (официант, повар, менеджер и т.п.) придумайте несколько возможных должностей сотрудников';

CREATE SEQUENCE ing_id
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE "INGREDIENTLIST" (
    "ID_INGREDIENT" integer NOT NULL,
    "ID_DISH" integer NOT NULL,
    "USED_AMOUNT" INTEGER
);

CREATE TABLE "INGREDIENTS" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE ing_id PRIMARY KEY,
    "NAME" character(50) NOT NULL,
    "AMOUNT" INTEGER DEFAULT 0 NOT NULL
);

CREATE SEQUENCE men_id
        START WITH 1
        INCREMENT BY 1;

CREATE TABLE "MENU" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE men_id PRIMARY KEY,
    "NAME" character(50) NOT NULL
);

CREATE TABLE "MENULIST" (
    "ID_MENU" integer NOT NULL,
    "ID_DISH" integer NOT NULL
);

CREATE SEQUENCE ord_id
        START WITH 1
        INCREMENT BY 1;

CREATE TABLE "ORDERS" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE ord_id PRIMARY KEY,
    "ID_EMP" integer NOT NULL,
    "TABLE_NUM" integer NOT NULL,
    "DATE" date NOT NULL,
    "ISOPEN" BOOLEAN NOT NULL
);

CREATE SEQUENCE prep_id
        START WITH 1
        INCREMENT BY 1;

CREATE TABLE "PREPARED_DISHES"
(
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE prep_id PRIMARY KEY,
    "ID_DISH" integer NOT NULL,
    "ID_EMPLOYEE" integer,
    "IS_PREPARED" boolean NOT NULL,
    "ID_ORDER" INTEGER
);

CREATE SEQUENCE pos_id
    START WITH 1
    INCREMENT BY 1;

CREATE TABLE "POSITIONS" (
    "ID" integer GENERATED BY DEFAULT AS SEQUENCE pos_id PRIMARY KEY,
    "POSITION" character(50)
);


INSERT INTO "POSITIONS" ("POSITION") VALUES ('BIG_BOSS');
INSERT INTO "POSITIONS" ("POSITION") VALUES ('NEWBIE');
INSERT INTO "POSITIONS" ("POSITION") VALUES ('MANAGER');
INSERT INTO "EMPLOYEE" (FIRST_NAME, LAST_NAME, DATE_BIRTH, ID_POSITION, SALARY) VALUES ('Mary', 'Ivanova', '1998-08-12', 2, 1000);
INSERT INTO "CATEGORY" ("NAME") VALUES ('SOUPS');
INSERT INTO "INGREDIENTS" ("NAME", AMOUNT) VALUES ('Potato', 2);
INSERT INTO "INGREDIENTS" ("NAME", AMOUNT) VALUES ('Tomato', 3);
INSERT INTO "DISHES" (ID_CATEGORY, PRICE, WEIGHT, NAME) VALUES (1, 100, 250, 'Chicken');
INSERT INTO "INGREDIENTLIST" (ID_INGREDIENT, ID_DISH, USED_AMOUNT) VALUES (1, 1, 11);
INSERT INTO "INGREDIENTLIST" (ID_INGREDIENT, ID_DISH, USED_AMOUNT) VALUES (2, 1, 21);
INSERT INTO "MENU" (NAME) VALUES ('Mega-Menu');
INSERT INTO "MENU" (NAME) VALUES ('Empty-Menu');
INSERT INTO "MENULIST" VALUES (1, 2);
INSERT INTO "MENULIST" VALUES (1, 3);
INSERT INTO "PREPARED_DISHES" (ID_DISH, ID_EMPLOYEE, IS_PREPARED, ID_ORDER) VALUES (1, 1, FALSE, 1);
INSERT INTO "ORDERS" (ID_EMP, TABLE_NUM, DATE, ISOPEN) VALUES (1, 2, '2016-11-01', TRUE);
INSERT INTO "ORDERS" (ID_EMP, TABLE_NUM, DATE, ISOPEN) VALUES (2, 3, '2016-11-02', FALSE);
